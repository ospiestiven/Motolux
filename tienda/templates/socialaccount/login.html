{% extends 'tienda/index/base1.html' %}
{% load i18n allauth %}
{% block head_title %}{% trans "Iniciar sesión con proveedor" %}{% endblock head_title %}
{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height:80vh;">
    <div class="card shadow-sm" style="max-width:420px; width:100%;">
        <div class="card-body p-4">
            <div class="text-center mb-3">
                <h2 class="fw-bold text-danger mb-0">Motolux</h2>
                <p class="text-secondary mb-0 small">
                    {% if process == "connect" %}
                        {% trans "Conectar cuenta de" %} {{ provider.name }}
                    {% else %}
                        {% trans "Iniciar sesión con" %} {{ provider.name }}
                    {% endif %}
                </p>
            </div>

            {% element form method="post" no_visible_fields=True %}
                {% slot body %}
                    {% if process == "connect" %}
                        <p class="small text-muted mb-3 text-center">Se abrirá una ventana para conectar tu cuenta. Confirma para continuar.</p>
                    {% else %}
                        <p class="small text-muted mb-3 text-center">Vas a iniciar sesión usando tu cuenta externa. Confirma para continuar.</p>
                    {% endif %}
                {% endslot %}

                {% slot actions %}
                    {% csrf_token %}
                    {% element button type="submit" class="btn btn-danger btn-lg w-100 fw-semibold d-flex justify-content-center align-items-center" %}
                        <i class="bi bi-arrow-right-circle me-2" aria-hidden="true"></i> {% trans "Continuar" %}
                    {% endelement %}
                {% endslot %}
            {% endelement %}

            <div class="text-center mt-3">
                <a href="{% url 'account_login' %}" class="link-secondary small">Usar correo y contraseña</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
